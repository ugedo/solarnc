{
	"$schema": "http://json-schema.org/schema#",
	"title": "A json schema for the solarnc project",
	"type": "object",
	"definitions": {
		"function": {
			"type": "object",
			"properties": {
				"skip existing": {"type": "boolean"},
				"module": {"type": "string"},
				"fname": {"type": "string"},
				"args": {"type": "array"}
			},
			"required": ["skip existing","module","fname"]
		},
		"station": {
			"type": "object",
			"properties": {
				"name": {"type": "string"},
				"latitude": {"type": "number"},
				"longitude": {"type": "number"},
				"MASL": {"type": "number"}
			},
			"required": ["name","latitude", "longitude"]
		}
	},
	"properties": {
		"dataset": {
			"type": "object",
			"properties": {
				"name": {"type": "string"},
				"path": {"type": "string"},
				"timezone": {"type": "string"},
				"stations": {
					"type": "array",
					"items": {
						"$ref": "#/definitions/station",
						"minItems": 1
					}
				}
			},
			"required": ["name","path","timezone","stations"]
		},
		"format": {
			"type": "object",
			"properties": {
				"outpath": {"type": "string"},
				"stations": {
					"type": "array",
					"items": {
						"type": "string",
						"minItems": 1
					}
				},
				"module": {"type": "string"},
				"fname": {"type": "string"}
			},
			"required": ["outpath","stations","module","fname"]
		},
		"extend": {
			"type": "object",
			"properties": {
				"functions": {
					"type": "array",
					"items": {
						"$ref": "#/definitions/function",
						"minItems": 1
					}
				}
			},
			"additionalProperties": false,
			"required": ["functions"]
		},
		"split": {
			"type": "object",
			"properties": {
				"outpath": {"type": "string"},
				"method": {
					"type": "object",
					"properties": {
						"name": {"type": "string"},
						"args": {"type": "object"}
					},
					"required": ["name"]
				}
			},
			"additionalProperties": false,
			"required": ["method","outpath"]
		},
		"fselect": {
			"type": "object",
			"properties": {
				"outpath": {"type": "string"},
				"period": {"type": "string"},
				"window": {"type": "string"},
				"fetures": {
					"type": "object",
					"properties": {
						"station lagged": {
							"type": "array",
							"items": {
								"type": "string"
							}
						},
						"station unlagged": {
							"type": "array",
							"items": {
								"type": "string"
							}
						},
						"lagged": {
							"type": "array",
							"items": {
								"type": "string"
							}
						},
						"unlagged": {
							"type": "array",
							"items": {
								"type": "string"
							}
						}
					},
					"additionalProperties": false,
					"required": ["station lagged", "station unlagged", "lagged",
						"unlagged"]
				},
				"forecasted variable": {"type": "string"},
				"horizons": {
					"type": "array",
					"items": {
						"type": "object",
						"properties": {
							"lead time": {"type": "string"},
							"interval": {"type": "string"}
						},
						"additionalProperties": false,
						"required": ["lead time", "interval"]
					},
					"minItems": 1
				}
			},
			"required": ["period", "window", "features", "forecasted variable",
			"horizons"]
		},
		"train": {
			"type": "object",
			"properties": {
				"models": {
					"type": "array",
					"items": {
						"type": "object",
						"properties": {
							"model type": {"type": "string"},
							"outpath": {"type": "string"},
							"target stations": {
								"type": "array",
								"items": {"type": "string", "minItems": 1}
							},
							"horizons": {
								"type": "array",
								"items": {"type": "string", "minItems": 1}
							},
							"hyperparameters": {
								"type": "object",
								"properties": {
									"search method": {"type": "string"}
								}
							}
						},
						"additionalProperties": false,
						"required": ["model type", "outpath", "target stations",
							"horizons"],
							"minItems": 1
					}
				}
			}
		}
	},
	"required": ["dataset", "format", "split","fselect"]
}
